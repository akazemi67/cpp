syntax = "proto3";
package messages;

enum MessageType {
  AUTH = 0;
  TEXT = 1;
  IMAGE = 2;
}

message MessageHeader {
  MessageType type = 1;
  int32 length = 2;
}

message Message{
  MessageHeader header = 1;
  oneof messageType {
      AuthMessage auth = 2;
      TextMessage text = 3;
      ImageMessage image = 4;
  }
}

message AuthMessage {
  string name = 2;
}

message TextMessage {
  string text = 2;
}

message ImageMessage {
  repeated int32 image = 2;
}
